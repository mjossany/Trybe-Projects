{"ast":null,"code":"var _jsxFileName = \"/Users/jossanymoura/Dev/projetos/frontendOnlineStore/sd-12-project-frontend-online-store/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport SearchResults from './Components/SearchResults';\nimport FilterCategories from './Components/FilterCategories';\nimport ShoppingCartButton from './Components/ShoppingCartButton';\nimport ShoppingCart from './Components/ShoppingCart';\nimport SearchBar from './Components/SearchBar';\nimport InicialMessage from './Components/InicialMessage';\nimport ProductDetail from './Components/ProductDetail';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: '',\n      search: '',\n      cartList: [],\n      cartQuantity: 0\n    };\n    this.getState = this.getState.bind(this);\n    this.setCartStorage = this.setCartStorage.bind(this);\n    this.setQuantity = this.setQuantity.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n    this.setCartQuantity = this.setCartQuantity.bind(this);\n    this.getLocalStorage = this.getLocalStorage.bind(this);\n    this.saveLocalStorage = this.saveLocalStorage.bind(this);\n  }\n\n  componentDidMount() {\n    this.getLocalStorage();\n  }\n\n  setCartStorage(obj) {\n    const {\n      id\n    } = obj;\n    const {\n      cartList\n    } = this.state;\n    const includes = cartList.find(item => item.id === id);\n    if (includes) return this.setQuantity(includes.quantity + 1, id);\n    obj.quantity = 1;\n    this.setState(prevState => ({\n      cartList: [...prevState.cartList, obj]\n    }));\n  }\n\n  getState(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  setQuantity(quantity, id) {\n    this.setState(prev => {\n      const cartList = prev.cartList.map(item => {\n        if (item.id === id) item.quantity = quantity;\n        return item;\n      });\n      return {\n        cartList\n      };\n    }, () => this.setCartQuantity());\n  }\n\n  setCartQuantity() {\n    const {\n      cartList\n    } = this.state;\n    const totalQuantity = cartList.map(({\n      quantity\n    }) => quantity).reduce((total, quantityItem) => total + quantityItem, 0);\n    this.setState({\n      cartQuantity: totalQuantity\n    }, () => this.saveLocalStorage());\n  }\n\n  getLocalStorage() {\n    const stateStorageJson = localStorage.getItem('shopping_time') || '{}';\n    const stateStorage = JSON.parse(stateStorageJson);\n    this.setState({ ...stateStorage\n    });\n  }\n\n  saveLocalStorage() {\n    localStorage.setItem('shopping_time', JSON.stringify(this.state));\n  }\n\n  removeItem(idItem) {\n    this.setState(prev => {\n      const clearList = prev.cartList.filter(({\n        id\n      }) => id !== idItem);\n      return {\n        cartList: clearList\n      };\n    });\n  }\n\n  render() {\n    const {\n      category,\n      search,\n      cartList,\n      cartQuantity\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ShoppingCartButton, {\n      cartQuantity: cartQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SearchBar, {\n      getState: this.getState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: InicialMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/shopping-cart\",\n      render: () => /*#__PURE__*/React.createElement(ShoppingCart, {\n        cartList: cartList,\n        removeItem: this.removeItem,\n        setQuantity: this.setQuantity,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 31\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/search\",\n      render: props => /*#__PURE__*/React.createElement(SearchResults, Object.assign({}, props, {\n        category: category,\n        search: search,\n        setCartStorage: this.setCartStorage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/details/:id\",\n      render: props => /*#__PURE__*/React.createElement(ProductDetail, Object.assign({}, props, {\n        search: search,\n        setCartStorage: this.setCartStorage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(FilterCategories, {\n      getState: this.getState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App; // Na refatoração realizada nesse código depois do requisito 6 consultei o repositório do Roberval Filho da Turma 12 Grupo 18. Lembrando que os testes do 1 ao 6 já estavam passando antes dessa refatoração. https://github.com/tryber/sd-12-project-frontend-online-store/pull/226/files\n// Na implementação do requisito 10 utilizamos a ideia e o código do Grupo 10 da turma 12. Segue link para o repositório https://github.com/tryber/sd-12-project-frontend-online-store/tree/main-group-10/src","map":{"version":3,"sources":["/Users/jossanymoura/Dev/projetos/frontendOnlineStore/sd-12-project-frontend-online-store/src/App.js"],"names":["React","BrowserRouter","Route","Switch","SearchResults","FilterCategories","ShoppingCartButton","ShoppingCart","SearchBar","InicialMessage","ProductDetail","App","Component","constructor","props","state","category","search","cartList","cartQuantity","getState","bind","setCartStorage","setQuantity","removeItem","setCartQuantity","getLocalStorage","saveLocalStorage","componentDidMount","obj","id","includes","find","item","quantity","setState","prevState","name","value","prev","map","totalQuantity","reduce","total","quantityItem","stateStorageJson","localStorage","getItem","stateStorage","JSON","parse","setItem","stringify","idItem","clearList","filter","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport SearchResults from './Components/SearchResults';\nimport FilterCategories from './Components/FilterCategories';\nimport ShoppingCartButton from './Components/ShoppingCartButton';\nimport ShoppingCart from './Components/ShoppingCart';\nimport SearchBar from './Components/SearchBar';\nimport InicialMessage from './Components/InicialMessage';\nimport ProductDetail from './Components/ProductDetail';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: '',\n      search: '',\n      cartList: [],\n      cartQuantity: 0,\n    };\n    this.getState = this.getState.bind(this);\n    this.setCartStorage = this.setCartStorage.bind(this);\n    this.setQuantity = this.setQuantity.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n    this.setCartQuantity = this.setCartQuantity.bind(this);\n    this.getLocalStorage = this.getLocalStorage.bind(this);\n    this.saveLocalStorage = this.saveLocalStorage.bind(this);\n  }\n\n  componentDidMount() {\n    this.getLocalStorage();\n  }\n\n  setCartStorage(obj) {\n    const { id } = obj;\n    const { cartList } = this.state;\n    const includes = cartList.find((item) => item.id === id);\n    if (includes) return this.setQuantity(includes.quantity + 1, id);\n    obj.quantity = 1;\n    this.setState((prevState) => ({ cartList: [...prevState.cartList, obj] }));\n  }\n\n  getState(name, value) {\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  setQuantity(quantity, id) {\n    this.setState((prev) => {\n      const cartList = prev.cartList.map((item) => {\n        if (item.id === id) item.quantity = quantity;\n        return item;\n      });\n      return { cartList };\n    }, () => this.setCartQuantity());\n  }\n\n  setCartQuantity() {\n    const { cartList } = this.state;\n    const totalQuantity = cartList\n      .map(({ quantity }) => quantity)\n      .reduce((total, quantityItem) => total + quantityItem, 0);\n\n    this.setState({ cartQuantity: totalQuantity }, () => this.saveLocalStorage());\n  }\n\n  getLocalStorage() {\n    const stateStorageJson = localStorage.getItem('shopping_time') || '{}';\n    const stateStorage = JSON.parse(stateStorageJson);\n    this.setState({ ...stateStorage });\n  }\n\n  saveLocalStorage() {\n    localStorage.setItem('shopping_time', JSON.stringify(this.state));\n  }\n\n  removeItem(idItem) {\n    this.setState((prev) => {\n      const clearList = prev.cartList.filter(({ id }) => id !== idItem);\n      return { cartList: clearList };\n    });\n  }\n\n  render() {\n    const { category, search, cartList, cartQuantity } = this.state;\n    return (\n      <div>\n        <BrowserRouter>\n          <ShoppingCartButton\n            cartQuantity={ cartQuantity }\n          />\n          <SearchBar getState={ this.getState } />\n          <Switch>\n            <Route exact path=\"/\" component={ InicialMessage } />\n            <Route\n              exact\n              path=\"/shopping-cart\"\n              render={ () => (<ShoppingCart\n                cartList={ cartList }\n                removeItem={ this.removeItem }\n                setQuantity={ this.setQuantity }\n              />) }\n            />\n            <Route\n              exact\n              path=\"/search\"\n              render={ (props) => (\n                <SearchResults\n                  { ...props }\n                  category={ category }\n                  search={ search }\n                  setCartStorage={ this.setCartStorage }\n                />) }\n            />\n            <Route\n              exact\n              path=\"/details/:id\"\n              render={ (props) => (\n                <ProductDetail\n                  { ...props }\n                  search={ search }\n                  setCartStorage={ this.setCartStorage }\n                />) }\n            />\n          </Switch>\n          <FilterCategories getState={ this.getState } />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n// Na refatoração realizada nesse código depois do requisito 6 consultei o repositório do Roberval Filho da Turma 12 Grupo 18. Lembrando que os testes do 1 ao 6 já estavam passando antes dessa refatoração. https://github.com/tryber/sd-12-project-frontend-online-store/pull/226/files\n// Na implementação do requisito 10 utilizamos a ideia e o código do Grupo 10 da turma 12. Segue link para o repositório https://github.com/tryber/sd-12-project-frontend-online-store/tree/main-group-10/src\n"]},"metadata":{},"sourceType":"module"}