{"ast":null,"code":"var _jsxFileName = \"/Users/jossanymoura/Dev/projetos/frontendOnlineStore/sd-12-project-frontend-online-store/src/Components/SearchAndResults.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as api from '../services/api';\nimport Products from './Products';\n\nclass SearchAndResults extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      productList: []\n    };\n    this.getProducts = this.getProducts.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      category,\n      search\n    } = this.props;\n    const {\n      category: prevCategory,\n      search: prevSearch\n    } = prevProps;\n\n    if (prevSearch !== search || prevCategory !== category) {\n      this.getProducts();\n    }\n  }\n\n  async getProducts() {\n    const {\n      search,\n      category\n    } = this.props;\n    this.setState({\n      loading: true\n    }, async () => {\n      const response = await api.getProductsFromCategoryAndQuery(category, search);\n      this.setState({\n        productList: response.results,\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      productList,\n      loading\n    } = this.state;\n    if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }\n    }, \"Carregando...\");\n\n    if (productList.length === 0) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, \"Nenhum produto foi encontrado\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), /*#__PURE__*/React.createElement(Products, {\n      productList: productList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nSearchAndResults.propTypes = {\n  category: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired\n};\nexport default SearchAndResults;\n/*\nReferencia Git Hub:\nTurma 11 - Grupo 35\nAjudou a fazer função da requisição da api.\nhttps://github.com/tryber/sd-011-project-frontend-online-store/tree/requisito-5-grupo-35/src\nTurma 10 - Grupo 9:\nAjudou no tratamento de informações da lista de produtos(função map product.js).\nhttps://github.com/tryber/sd-010-a-project-frontend-online-store/tree/grupo9-requisito-5/src\n*/","map":{"version":3,"sources":["/Users/jossanymoura/Dev/projetos/frontendOnlineStore/sd-12-project-frontend-online-store/src/Components/SearchAndResults.js"],"names":["React","PropTypes","api","Products","SearchAndResults","Component","constructor","state","loading","productList","getProducts","bind","componentDidUpdate","prevProps","category","search","props","prevCategory","prevSearch","setState","response","getProductsFromCategoryAndQuery","results","render","length","propTypes","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,GAAZ,MAAqB,iBAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,gBAAN,SAA+BJ,KAAK,CAACK,SAArC,CAA+C;AAC7CC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,WAAW,EAAE;AAFF,KAAb;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAAuB,KAAKC,KAAlC;AACA,UAAM;AAAEF,MAAAA,QAAQ,EAAEG,YAAZ;AAA0BF,MAAAA,MAAM,EAAEG;AAAlC,QAAiDL,SAAvD;;AACA,QAAIK,UAAU,KAAKH,MAAf,IAAyBE,YAAY,KAAKH,QAA9C,EAAwD;AACtD,WAAKJ,WAAL;AACD;AACF;;AAED,QAAMA,WAAN,GAAoB;AAClB,UAAM;AAAEK,MAAAA,MAAF;AAAUD,MAAAA;AAAV,QAAuB,KAAKE,KAAlC;AAEA,SAAKG,QAAL,CAAc;AACZX,MAAAA,OAAO,EAAE;AADG,KAAd,EAEG,YAAY;AACb,YAAMY,QAAQ,GAAG,MAAMlB,GAAG,CAACmB,+BAAJ,CAAoCP,QAApC,EAA8CC,MAA9C,CAAvB;AACA,WAAKI,QAAL,CAAc;AACZV,QAAAA,WAAW,EAAEW,QAAQ,CAACE,OADV;AAEZd,QAAAA,OAAO,EAAE;AAFG,OAAd;AAID,KARD;AASD;;AAEDe,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEd,MAAAA,WAAF;AAAeD,MAAAA;AAAf,QAA2B,KAAKD,KAAtC;AACA,QAAIC,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;;AACb,QAAIC,WAAW,CAACe,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADF;AAGD;;AACD,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,qBAAY,sBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADF,eAME,oBAAC,QAAD;AAAU,MAAA,WAAW,EAAGf,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAUD;;AAlD4C;;AAqD/CL,gBAAgB,CAACqB,SAAjB,GAA6B;AAC3BX,EAAAA,QAAQ,EAAEb,SAAS,CAACyB,MAAV,CAAiBC,UADA;AAE3BZ,EAAAA,MAAM,EAAEd,SAAS,CAACyB,MAAV,CAAiBC;AAFE,CAA7B;AAKA,eAAevB,gBAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as api from '../services/api';\nimport Products from './Products';\n\nclass SearchAndResults extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      productList: [],\n    };\n    this.getProducts = this.getProducts.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { category, search } = this.props;\n    const { category: prevCategory, search: prevSearch } = prevProps;\n    if (prevSearch !== search || prevCategory !== category) {\n      this.getProducts();\n    }\n  }\n\n  async getProducts() {\n    const { search, category } = this.props;\n\n    this.setState({\n      loading: true,\n    }, async () => {\n      const response = await api.getProductsFromCategoryAndQuery(category, search);\n      this.setState({\n        productList: response.results,\n        loading: false,\n      });\n    });\n  }\n\n  render() {\n    const { productList, loading } = this.state;\n    if (loading) return <p>Carregando...</p>;\n    if (productList.length === 0) {\n      return (\n        <p>Nenhum produto foi encontrado</p>\n      );\n    }\n    return (\n      <div>\n        <p\n          data-testid=\"home-initial-message\"\n        >\n          Digite algum termo de pesquisa ou escolha uma categoria.\n        </p>\n        <Products productList={ productList } />\n      </div>\n    );\n  }\n}\n\nSearchAndResults.propTypes = {\n  category: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired,\n};\n\nexport default SearchAndResults;\n\n/*\nReferencia Git Hub:\nTurma 11 - Grupo 35\nAjudou a fazer função da requisição da api.\nhttps://github.com/tryber/sd-011-project-frontend-online-store/tree/requisito-5-grupo-35/src\nTurma 10 - Grupo 9:\nAjudou no tratamento de informações da lista de produtos(função map product.js).\nhttps://github.com/tryber/sd-010-a-project-frontend-online-store/tree/grupo9-requisito-5/src\n*/\n"]},"metadata":{},"sourceType":"module"}