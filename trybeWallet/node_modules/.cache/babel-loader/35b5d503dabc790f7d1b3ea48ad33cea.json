{"ast":null,"code":"var _jsxFileName = \"/Users/jossanymoura/Dev/projetos/trybeWallet/sd-012-project-trybewallet/src/components/Wallet/ExpenseForm/WalletExpenseForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { func, arrayOf, objectOf } from 'prop-types';\nimport ExpenseValueInput from './ExpenseValueInput';\nimport ExpenseDescriptionInput from './ExpenseDescriptionInput';\nimport ExpenseCurrencyInput from './ExpenseCurrencyInput';\nimport ExpensePaymentMethodInput from './ExpensePaymentMethodInput';\nimport ExpenseTag from './ExpenseTag';\nimport AddExpenseButton from './AddExpenseButton';\nimport fetchCurrenciesForExpenses from '../../../fetchs/fetchCurrenciesForExpenses';\nimport EditExpenseButton from './EditExpenseButton';\nimport ExpenseTable from '../ExpenseTable/ExpenseTable';\nimport { editExpense } from '../../../actions';\n\nclass WalletExpenseForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0,\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: '',\n      edit: false,\n      idEdit: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.storeData = this.storeData.bind(this);\n    this.enableEdit = this.enableEdit.bind(this);\n    this.onEdit = this.onEdit.bind(this);\n    this.implementEdit = this.implementEdit.bind(this);\n  }\n\n  onEdit() {\n    const {\n      expenseEdit\n    } = this.props;\n    const {\n      value,\n      description,\n      currency,\n      method,\n      tag,\n      idEdit\n    } = this.state;\n    expenseEdit({\n      id: idEdit,\n      value,\n      description,\n      currency,\n      method,\n      tag\n    });\n    this.setState({});\n  }\n\n  enableEdit(idEdit) {\n    const {\n      expenses\n    } = this.props;\n    const expenseEdit = expenses.find(({\n      id\n    }) => id === idEdit);\n    const {\n      value,\n      description,\n      currency,\n      method,\n      tag\n    } = expenseEdit;\n    this.setState({\n      value,\n      description,\n      currency,\n      method,\n      tag,\n      edit: true,\n      idEdit\n    });\n  }\n\n  handleChange({\n    target\n  }) {\n    const {\n      name,\n      value\n    } = target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  storeData() {\n    const {\n      state\n    } = this;\n    const {\n      storeExpenseData\n    } = this.props;\n    storeExpenseData(state);\n  }\n\n  render() {\n    const {\n      state\n    } = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ExpenseValueInput, {\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ExpenseDescriptionInput, {\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ExpenseCurrencyInput, {\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ExpensePaymentMethodInput, {\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ExpenseTag, {\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }), state.edit ? /*#__PURE__*/React.createElement(EditExpenseButton, {\n      editExpenseFunc: this.onEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 24\n      }\n    }) : /*#__PURE__*/React.createElement(AddExpenseButton, {\n      storeDataFunc: this.storeData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(ExpenseTable, {\n      editFunc: this.enableEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nWalletExpenseForm.propTypes = {\n  storeExpenseData: func.isRequired,\n  expenseEdit: func.isRequired,\n  expenses: arrayOf(objectOf).isRequired\n};\n\nconst mapStateToProps = state => ({\n  expenses: state.wallet.expenses\n});\n\nconst mapDispatchToProps = dispatch => ({\n  storeExpenseData: data => dispatch(fetchCurrenciesForExpenses(data)),\n  expenseEdit: data => dispatch(editExpense(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletExpenseForm);","map":{"version":3,"sources":["/Users/jossanymoura/Dev/projetos/trybeWallet/sd-012-project-trybewallet/src/components/Wallet/ExpenseForm/WalletExpenseForm.js"],"names":["React","Component","connect","func","arrayOf","objectOf","ExpenseValueInput","ExpenseDescriptionInput","ExpenseCurrencyInput","ExpensePaymentMethodInput","ExpenseTag","AddExpenseButton","fetchCurrenciesForExpenses","EditExpenseButton","ExpenseTable","editExpense","WalletExpenseForm","constructor","props","state","value","description","currency","method","tag","edit","idEdit","handleChange","bind","storeData","enableEdit","onEdit","implementEdit","expenseEdit","id","setState","expenses","find","target","name","storeExpenseData","render","propTypes","isRequired","mapStateToProps","wallet","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { func, arrayOf, objectOf } from 'prop-types';\nimport ExpenseValueInput from './ExpenseValueInput';\nimport ExpenseDescriptionInput from './ExpenseDescriptionInput';\nimport ExpenseCurrencyInput from './ExpenseCurrencyInput';\nimport ExpensePaymentMethodInput from './ExpensePaymentMethodInput';\nimport ExpenseTag from './ExpenseTag';\nimport AddExpenseButton from './AddExpenseButton';\nimport fetchCurrenciesForExpenses from '../../../fetchs/fetchCurrenciesForExpenses';\nimport EditExpenseButton from './EditExpenseButton';\nimport ExpenseTable from '../ExpenseTable/ExpenseTable';\nimport { editExpense } from '../../../actions';\n\nclass WalletExpenseForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0,\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: '',\n      edit: false,\n      idEdit: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.storeData = this.storeData.bind(this);\n    this.enableEdit = this.enableEdit.bind(this);\n    this.onEdit = this.onEdit.bind(this);\n    this.implementEdit = this.implementEdit.bind(this);\n  }\n\n  onEdit() {\n    const { expenseEdit } = this.props;\n    const { value, description, currency, method, tag, idEdit } = this.state;\n    expenseEdit({ id: idEdit, value, description, currency, method, tag });\n    this.setState({\n    });\n  }\n\n  enableEdit(idEdit) {\n    const { expenses } = this.props;\n    const expenseEdit = expenses.find(({ id }) => id === idEdit);\n    const { value, description, currency, method, tag } = expenseEdit;\n    this.setState({ value, description, currency, method, tag, edit: true, idEdit });\n  }\n\n  handleChange({ target }) {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  storeData() {\n    const { state } = this;\n    const { storeExpenseData } = this.props;\n    storeExpenseData(state);\n  }\n\n  render() {\n    const { state } = this;\n    return (\n      <div>\n        <ExpenseValueInput\n          handleChange={ this.handleChange }\n        />\n        <ExpenseDescriptionInput\n          handleChange={ this.handleChange }\n        />\n        <ExpenseCurrencyInput\n          handleChange={ this.handleChange }\n        />\n        <ExpensePaymentMethodInput\n          handleChange={ this.handleChange }\n        />\n        <ExpenseTag\n          handleChange={ this.handleChange }\n        />\n\n        { state.edit ? <EditExpenseButton\n          editExpenseFunc={ this.onEdit }\n        /> : <AddExpenseButton\n          storeDataFunc={ this.storeData }\n        /> }\n        <ExpenseTable\n          editFunc={ this.enableEdit }\n        />\n      </div>\n    );\n  }\n}\n\nWalletExpenseForm.propTypes = {\n  storeExpenseData: func.isRequired,\n  expenseEdit: func.isRequired,\n  expenses: arrayOf(objectOf).isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  expenses: state.wallet.expenses,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  storeExpenseData: (data) => dispatch(fetchCurrenciesForExpenses(data)),\n  expenseEdit: (data) => dispatch(editExpense(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WalletExpenseForm);\n"]},"metadata":{},"sourceType":"module"}