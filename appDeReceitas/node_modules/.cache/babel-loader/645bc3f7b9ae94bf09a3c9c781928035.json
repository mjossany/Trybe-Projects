{"ast":null,"code":"export const fetchApi = async url => {\n  const response = await fetch(url);\n  const obj = await response.json();\n  return obj;\n};\n\nconst setByType = async (type, search, setItems, {\n  urlDetail,\n  letter\n}) => {\n  const response = await fetchApi(`https://www.${type}.com/api/json/v1/1/${urlDetail}.php?${letter}=${search.textValue}`);\n\n  if (Object.values(response)[0] === null) {\n    // eslint-disable-next-line no-alert\n    alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n  } else {\n    setItems(response);\n  }\n};\n\nexport const searchOnClick = (search, setItems) => {\n  const path = window.location.pathname;\n  let type;\n  if (path.includes('/comidas')) type = 'themealdb';\n  if (path.includes('/bebidas')) type = 'thecocktaildb';\n\n  if (search.radioValue === 'Ingredientes') {\n    setByType(type, search, setItems, {\n      urlDetail: 'filter',\n      letter: 'i'\n    });\n  } else if (search.radioValue === 'Nome') {\n    setByType(type, search, setItems, {\n      urlDetail: 'search',\n      letter: 's'\n    });\n  } else if (search.radioValue === 'Primeira letra') {\n    if (search.textValue.length === 1) {\n      setByType(type, search, setItems, {\n        urlDetail: 'search',\n        letter: 'f'\n      });\n    } else {\n      // eslint-disable-next-line no-alert\n      alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n  }\n};","map":{"version":3,"sources":["/Users/jossanymoura/Dev/projetos/appDeReceitas/sd-012-project-recipes-app/src/components/SearchBar/utils.js"],"names":["fetchApi","url","response","fetch","obj","json","setByType","type","search","setItems","urlDetail","letter","textValue","Object","values","alert","searchOnClick","path","window","location","pathname","includes","radioValue","length"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAOC,GAAP,IAAe;AACrC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,QAAMG,GAAG,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAlB;AACA,SAAOD,GAAP;AACD,CAJM;;AAMP,MAAME,SAAS,GAAG,OAAOC,IAAP,EAAaC,MAAb,EAAqBC,QAArB,EAA+B;AAAEC,EAAAA,SAAF;AAAaC,EAAAA;AAAb,CAA/B,KAAyD;AACzE,QAAMT,QAAQ,GAAG,MAAMF,QAAQ,CAAE,eAAcO,IAAK,sBAAqBG,SAAU,QAAOC,MAAO,IAAGH,MAAM,CAACI,SAAU,EAAtF,CAA/B;;AACA,MAAIC,MAAM,CAACC,MAAP,CAAcZ,QAAd,EAAwB,CAAxB,MAA+B,IAAnC,EAAyC;AACvC;AACAa,IAAAA,KAAK,CAAC,kEAAD,CAAL;AACD,GAHD,MAGO;AACLN,IAAAA,QAAQ,CAACP,QAAD,CAAR;AACD;AACF,CARD;;AAUA,OAAO,MAAMc,aAAa,GAAG,CAACR,MAAD,EAASC,QAAT,KAAsB;AACjD,QAAMQ,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAA7B;AACA,MAAIb,IAAJ;AACA,MAAIU,IAAI,CAACI,QAAL,CAAc,UAAd,CAAJ,EAA+Bd,IAAI,GAAG,WAAP;AAC/B,MAAIU,IAAI,CAACI,QAAL,CAAc,UAAd,CAAJ,EAA+Bd,IAAI,GAAG,eAAP;;AAC/B,MAAIC,MAAM,CAACc,UAAP,KAAsB,cAA1B,EAA0C;AACxChB,IAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAeC,QAAf,EAAyB;AAAEC,MAAAA,SAAS,EAAE,QAAb;AAAuBC,MAAAA,MAAM,EAAE;AAA/B,KAAzB,CAAT;AACD,GAFD,MAEO,IAAIH,MAAM,CAACc,UAAP,KAAsB,MAA1B,EAAkC;AACvChB,IAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAeC,QAAf,EAAyB;AAAEC,MAAAA,SAAS,EAAE,QAAb;AAAuBC,MAAAA,MAAM,EAAE;AAA/B,KAAzB,CAAT;AACD,GAFM,MAEA,IAAIH,MAAM,CAACc,UAAP,KAAsB,gBAA1B,EAA4C;AACjD,QAAId,MAAM,CAACI,SAAP,CAAiBW,MAAjB,KAA4B,CAAhC,EAAmC;AACjCjB,MAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAeC,QAAf,EAAyB;AAAEC,QAAAA,SAAS,EAAE,QAAb;AAAuBC,QAAAA,MAAM,EAAE;AAA/B,OAAzB,CAAT;AACD,KAFD,MAEO;AACL;AACAI,MAAAA,KAAK,CAAC,+CAAD,CAAL;AACD;AACF;AACF,CAjBM","sourcesContent":["export const fetchApi = async (url) => {\n  const response = await fetch(url);\n  const obj = await response.json();\n  return obj;\n};\n\nconst setByType = async (type, search, setItems, { urlDetail, letter }) => {\n  const response = await fetchApi(`https://www.${type}.com/api/json/v1/1/${urlDetail}.php?${letter}=${search.textValue}`);\n  if (Object.values(response)[0] === null) {\n    // eslint-disable-next-line no-alert\n    alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n  } else {\n    setItems(response);\n  }\n};\n\nexport const searchOnClick = (search, setItems) => {\n  const path = window.location.pathname;\n  let type;\n  if (path.includes('/comidas')) type = 'themealdb';\n  if (path.includes('/bebidas')) type = 'thecocktaildb';\n  if (search.radioValue === 'Ingredientes') {\n    setByType(type, search, setItems, { urlDetail: 'filter', letter: 'i' });\n  } else if (search.radioValue === 'Nome') {\n    setByType(type, search, setItems, { urlDetail: 'search', letter: 's' });\n  } else if (search.radioValue === 'Primeira letra') {\n    if (search.textValue.length === 1) {\n      setByType(type, search, setItems, { urlDetail: 'search', letter: 'f' });\n    } else {\n      // eslint-disable-next-line no-alert\n      alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"module"}