{"ast":null,"code":"var _jsxFileName = \"/Users/jossanymoura/Dev/projetos/appDeReceitas/sd-012-project-recipes-app/src/components/SearchBar/SearchBar.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { actionSaveItems } from '../../actions/index';\nimport { searchOnClick } from './utils';\n\nconst SearchBar = ({\n  bool,\n  saveItems\n}) => {\n  const [search, setSearch] = useState({\n    textValue: '',\n    radioValue: ''\n  });\n  const [items, setItems] = useState();\n  const [redirect, setRedirect] = useState({\n    bool: false\n  });\n  useEffect(() => {\n    const checkItems = () => {\n      if (items !== undefined && Object.values(items)[0].length === 1) {\n        let pathName;\n\n        if (Object.keys(items)[0] === 'meals') {\n          pathName = 'comidas';\n        } else {\n          pathName = 'bebidas';\n        }\n\n        const mealDrink = Object.values(items)[0];\n        const mealDrinkDetails = Object.values(mealDrink)[0];\n        const mealDrinkIdKey = Object.keys(mealDrinkDetails)[0];\n        const mealDrinkId = mealDrinkDetails[mealDrinkIdKey];\n        setRedirect({\n          bool: true,\n          pathName,\n          id: mealDrinkId\n        });\n      }\n    };\n\n    checkItems();\n\n    const saveItemsStore = () => {\n      if (items !== undefined) {\n        saveItems(Object.values(items)[0]);\n      }\n    };\n\n    saveItemsStore();\n  }, [items, saveItems]);\n\n  const handleChange = ({\n    target: {\n      name,\n      value\n    }\n  }) => {\n    setSearch({ ...search,\n      [name]: value\n    });\n  };\n\n  if (redirect.bool) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: `/${redirect.pathName}/${redirect.id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (bool) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"textValue\",\n      \"data-testid\": \"search-input\",\n      placeholder: \"Busque por uma receita\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      name: \"radioValue\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"ingredients\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"Ingredientes\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"ingredients\",\n      name: \"radioValue\",\n      value: \"Ingredientes\",\n      \"data-testid\": \"ingredient-search-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, \"Nome\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"name\",\n      name: \"radioValue\",\n      value: \"Nome\",\n      \"data-testid\": \"name-search-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"first-letter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, \"Primeira letra\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"first-letter\",\n      name: \"radioValue\",\n      value: \"Primeira letra\",\n      \"data-testid\": \"first-letter-search-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"exec-search-btn\",\n      onClick: () => searchOnClick(search, setItems),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, \"Buscar\"));\n  }\n\n  return null;\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    saveItems: items => dispatch(actionSaveItems(items))\n  };\n}\n\nSearchBar.propTypes = {\n  bool: PropTypes.bool.isRequired,\n  saveItems: PropTypes.func.isRequired\n};\nexport default connect(null, mapDispatchToProps)(SearchBar);","map":{"version":3,"sources":["/Users/jossanymoura/Dev/projetos/appDeReceitas/sd-012-project-recipes-app/src/components/SearchBar/SearchBar.js"],"names":["React","useEffect","useState","Redirect","connect","PropTypes","actionSaveItems","searchOnClick","SearchBar","bool","saveItems","search","setSearch","textValue","radioValue","items","setItems","redirect","setRedirect","checkItems","undefined","Object","values","length","pathName","keys","mealDrink","mealDrinkDetails","mealDrinkIdKey","mealDrinkId","id","saveItemsStore","handleChange","target","name","value","mapDispatchToProps","dispatch","propTypes","isRequired","func"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { actionSaveItems } from '../../actions/index';\nimport { searchOnClick } from './utils';\n\nconst SearchBar = ({ bool, saveItems }) => {\n  const [search, setSearch] = useState({\n    textValue: '',\n    radioValue: '',\n  });\n\n  const [items, setItems] = useState();\n\n  const [redirect, setRedirect] = useState({\n    bool: false,\n  });\n\n  useEffect(() => {\n    const checkItems = () => {\n      if (items !== undefined && Object.values(items)[0].length === 1) {\n        let pathName;\n        if (Object.keys(items)[0] === 'meals') {\n          pathName = 'comidas';\n        } else {\n          pathName = 'bebidas';\n        }\n        const mealDrink = Object.values(items)[0];\n        const mealDrinkDetails = Object.values(mealDrink)[0];\n        const mealDrinkIdKey = Object.keys(mealDrinkDetails)[0];\n        const mealDrinkId = mealDrinkDetails[mealDrinkIdKey];\n        setRedirect({\n          bool: true,\n          pathName,\n          id: mealDrinkId,\n        });\n      }\n    };\n    checkItems();\n    const saveItemsStore = () => {\n      if (items !== undefined) {\n        saveItems(Object.values(items)[0]);\n      }\n    };\n    saveItemsStore();\n  }, [items, saveItems]);\n\n  const handleChange = ({ target: { name, value } }) => {\n    setSearch({\n      ...search,\n      [name]: value,\n    });\n  };\n\n  if (redirect.bool) {\n    return <Redirect to={ `/${redirect.pathName}/${redirect.id}` } />;\n  }\n\n  if (bool) {\n    return (\n      <div>\n        <input\n          type=\"text\"\n          name=\"textValue\"\n          data-testid=\"search-input\"\n          placeholder=\"Busque por uma receita\"\n          onChange={ handleChange }\n        />\n        <div name=\"radioValue\" onChange={ handleChange }>\n          <label htmlFor=\"ingredients\">\n            Ingredientes\n            <input\n              type=\"radio\"\n              id=\"ingredients\"\n              name=\"radioValue\"\n              value=\"Ingredientes\"\n              data-testid=\"ingredient-search-radio\"\n            />\n          </label>\n          <label htmlFor=\"name\">\n            Nome\n            <input\n              type=\"radio\"\n              id=\"name\"\n              name=\"radioValue\"\n              value=\"Nome\"\n              data-testid=\"name-search-radio\"\n            />\n          </label>\n          <label htmlFor=\"first-letter\">\n            Primeira letra\n            <input\n              type=\"radio\"\n              id=\"first-letter\"\n              name=\"radioValue\"\n              value=\"Primeira letra\"\n              data-testid=\"first-letter-search-radio\"\n            />\n          </label>\n        </div>\n        <button\n          type=\"button\"\n          data-testid=\"exec-search-btn\"\n          onClick={ () => searchOnClick(search, setItems) }\n        >\n          Buscar\n        </button>\n      </div>\n    );\n  }\n  return null;\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    saveItems: (items) => dispatch(actionSaveItems(items)),\n  };\n}\n\nSearchBar.propTypes = {\n  bool: PropTypes.bool.isRequired,\n  saveItems: PropTypes.func.isRequired,\n};\n\nexport default connect(null, mapDispatchToProps)(SearchBar);\n"]},"metadata":{},"sourceType":"module"}