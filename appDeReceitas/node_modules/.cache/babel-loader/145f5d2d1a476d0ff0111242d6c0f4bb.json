{"ast":null,"code":"var _jsxFileName = \"/Users/jossanymoura/Dev/projetos/appDeReceitas/sd-012-project-recipes-app/src/components/HeaderDetails/HeaderDetails.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport copy from 'clipboard-copy';\nimport shareIcon from \"../../images/shareIcon.svg\";\nimport favoriteIcon from \"../../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../../images/blackHeartIcon.svg\";\nimport './HeaderDetails.css';\n\nconst HeaderDetails = ({\n  image,\n  title,\n  category,\n  recipe,\n  id\n}) => {\n  const [copied, setCopied] = useState('');\n  const [favorite, setFavorite] = useState(false);\n  useEffect(() => {\n    const favoriteList = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n    if (favoriteList) {\n      const finded = favoriteList.find(favo => favo.id === id);\n      if (finded) setFavorite(true);\n    }\n  }, [id]);\n\n  const copyLink = () => {\n    copy(window.location.href);\n    setCopied('Link copiado!');\n  };\n\n  const favoriteSet = () => {\n    let localStorageObj = {};\n\n    if (Object.keys(recipe)[0].includes('Drink')) {\n      const {\n        idDrink,\n        strCategory,\n        strAlcoholic,\n        strDrink,\n        strDrinkThumb\n      } = recipe;\n      localStorageObj = {\n        id: idDrink,\n        type: 'bebida',\n        area: '',\n        category: strCategory,\n        alcoholicOrNot: strAlcoholic,\n        name: strDrink,\n        image: strDrinkThumb\n      };\n    } else {\n      const {\n        idMeal,\n        strCategory,\n        strArea,\n        strMeal,\n        strMealThumb\n      } = recipe;\n      localStorageObj = {\n        id: idMeal,\n        type: 'comida',\n        area: strArea,\n        category: strCategory,\n        alcoholicOrNot: '',\n        name: strMeal,\n        image: strMealThumb\n      };\n    }\n\n    let listFavorite = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n    if (listFavorite) {\n      listFavorite.push(localStorageObj);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(listFavorite));\n      setFavorite(true);\n    } else {\n      listFavorite = [];\n      listFavorite.push(localStorageObj);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(listFavorite));\n      setFavorite(true);\n    }\n  };\n\n  const favoriteClick = () => {\n    if (favorite) {\n      const favoriteList = JSON.parse(localStorage.getItem('favoriteRecipes'));\n      const filterFavorite = favoriteList.filter(favo => favo.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(filterFavorite));\n      setFavorite(false);\n    } else {\n      favoriteSet();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"header-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: title,\n    \"data-testid\": \"recipe-photo\",\n    className: \"img-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"recipe-title\",\n    className: \"title-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    className: \"subtitle-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, category)), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"buttons-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input-image\",\n    id: \"share\",\n    type: \"image\",\n    alt: \"Bot\\xE3o compartilhar\",\n    src: shareIcon,\n    \"data-testid\": \"share-btn\",\n    onClick: copyLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), copied), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"favorite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input-image\",\n    id: \"favorite\",\n    type: \"image\",\n    src: favorite ? blackHeartIcon : favoriteIcon,\n    alt: \"Bot\\xE3o de favoritar\",\n    \"data-testid\": \"favorite-btn\",\n    onClick: favoriteClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  })))));\n};\n\nHeaderDetails.propTypes = {\n  image: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  recipe: PropTypes.node.isRequired,\n  id: PropTypes.string.isRequired\n};\nexport default HeaderDetails;","map":{"version":3,"sources":["/Users/jossanymoura/Dev/projetos/appDeReceitas/sd-012-project-recipes-app/src/components/HeaderDetails/HeaderDetails.js"],"names":["React","useEffect","useState","PropTypes","copy","HeaderDetails","image","title","category","recipe","id","copied","setCopied","favorite","setFavorite","favoriteList","JSON","parse","localStorage","getItem","finded","find","favo","copyLink","window","location","href","favoriteSet","localStorageObj","Object","keys","includes","idDrink","strCategory","strAlcoholic","strDrink","strDrinkThumb","type","area","alcoholicOrNot","name","idMeal","strArea","strMeal","strMealThumb","listFavorite","push","setItem","stringify","favoriteClick","filterFavorite","filter","shareIcon","blackHeartIcon","favoriteIcon","propTypes","string","isRequired","node"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport copy from 'clipboard-copy';\nimport shareIcon from '../../images/shareIcon.svg';\nimport favoriteIcon from '../../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../../images/blackHeartIcon.svg';\nimport './HeaderDetails.css';\n\nconst HeaderDetails = ({ image, title, category, recipe, id }) => {\n  const [copied, setCopied] = useState('');\n  const [favorite, setFavorite] = useState(false);\n  useEffect(() => {\n    const favoriteList = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (favoriteList) {\n      const finded = favoriteList.find((favo) => favo.id === id);\n      if (finded) setFavorite(true);\n    }\n  }, [id]);\n  const copyLink = () => {\n    copy(window.location.href);\n    setCopied('Link copiado!');\n  };\n  const favoriteSet = () => {\n    let localStorageObj = {};\n    if (Object.keys(recipe)[0].includes('Drink')) {\n      const { idDrink, strCategory, strAlcoholic, strDrink, strDrinkThumb } = recipe;\n      localStorageObj = {\n        id: idDrink,\n        type: 'bebida',\n        area: '',\n        category: strCategory,\n        alcoholicOrNot: strAlcoholic,\n        name: strDrink,\n        image: strDrinkThumb,\n      };\n    } else {\n      const { idMeal, strCategory, strArea, strMeal, strMealThumb } = recipe;\n      localStorageObj = {\n        id: idMeal,\n        type: 'comida',\n        area: strArea,\n        category: strCategory,\n        alcoholicOrNot: '',\n        name: strMeal,\n        image: strMealThumb,\n      };\n    }\n    let listFavorite = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (listFavorite) {\n      listFavorite.push(localStorageObj);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(listFavorite));\n      setFavorite(true);\n    } else {\n      listFavorite = [];\n      listFavorite.push(localStorageObj);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(listFavorite));\n      setFavorite(true);\n    }\n  };\n  const favoriteClick = () => {\n    if (favorite) {\n      const favoriteList = JSON.parse(localStorage.getItem('favoriteRecipes'));\n      const filterFavorite = favoriteList.filter((favo) => favo.id !== id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(filterFavorite));\n      setFavorite(false);\n    } else {\n      favoriteSet();\n    }\n  };\n  return (\n    <header className=\"header-details\">\n      <img\n        src={ image }\n        alt={ title }\n        data-testid=\"recipe-photo\"\n        className=\"img-header\"\n      />\n      <div className=\"info-container\">\n        <section>\n          <h1 data-testid=\"recipe-title\" className=\"title-details\">{title}</h1>\n          <p data-testid=\"recipe-category\" className=\"subtitle-details\">{category}</p>\n        </section>\n        <section className=\"buttons-container\">\n          <label htmlFor=\"share\">\n            <input\n              className=\"input-image\"\n              id=\"share\"\n              type=\"image\"\n              alt=\"Botão compartilhar\"\n              src={ shareIcon }\n              data-testid=\"share-btn\"\n              onClick={ copyLink }\n            />\n            {copied}\n          </label>\n          <label htmlFor=\"favorite\">\n            <input\n              className=\"input-image\"\n              id=\"favorite\"\n              type=\"image\"\n              src={ favorite ? blackHeartIcon : favoriteIcon }\n              alt=\"Botão de favoritar\"\n              data-testid=\"favorite-btn\"\n              onClick={ favoriteClick }\n            />\n          </label>\n        </section>\n      </div>\n    </header>\n  );\n};\nHeaderDetails.propTypes = {\n  image: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  recipe: PropTypes.node.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default HeaderDetails;\n"]},"metadata":{},"sourceType":"module"}